<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Past Live Streams</title>
</head>
<body>
    <h1>Past Live Streams</h1>
    <div id="videos"></div>

    <script>
        // Replace with the URL of your Cloud Function for past videos
        fetch('https://us-east1-embed-youtube-livestream-app.cloudfunctions.net/fetchPastLiveStreams')
        .then(response => response.json())
        .then(data => {
            let videoContainer = document.getElementById('videos');
            data.forEach(video => {
                // Check if the video object has a videoId
                if (video.id && video.id.videoId) {
                    // Create an iframe for each video
                    let iframe = document.createElement('iframe');
                    iframe.src = `https://www.youtube.com/embed/${video.id.videoId}`;
                    iframe.width = "560";
                    iframe.height = "315";
                    iframe.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture";
                    iframe.allowFullscreen = true;
                    videoContainer.appendChild(iframe);
                } else {
                    console.log('No videoId found for this video:', video);
                }
            });
        })
        .catch(error => console.log('Error fetching videos:', error));
    </script>
</body>
</html>
